@model IEnumerable<Capa_Entidad.Cliente>

@{
    ViewBag.Title = "Index";
}

<h2>Lista de Clientes</h2>

@if (TempData["mensaje"] != null)

{

    <div class="alert alert-primary alert-dismissible fade show" role="alert">
        <h4><strong>@TempData["mensaje"]!</strong></h4>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>

}

@using (Html.BeginForm())
{
    <div>
        Nombre del Cliente: @Html.TextBox("nomCli", ViewBag.nomProd as string)
        <button class="btn btn-info">Consultar</button>
    </div>
}

<p>
    @Html.ActionLink("Nuevo Cliente", "Create",
         null, new { @class = "btn btn-info" })

</p>
<table class="table table-striped table-hover">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.idCli)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.nomCli)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.apeCli)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.dni)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.dirCli)
        </th>

        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.idCli)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.nomCli)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.apeCli)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.dni)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.dirCli)
            </td>

            <td>
                @Html.ActionLink("Editar", "Edit",
                            new { id = item.idCli },
                            new { @class = "btn btn-success" })|

                @Html.ActionLink("Detalles", "Details",
                            new { id = item.idCli },
                            new { @class = "btn btn-warning" })|

                @Html.ActionLink("Eliminar", "Delete",
                            new { id = item.idCli },
                            new { @class = "btn btn-danger" })
            </td>
        </tr>
    }

</table>

<div class="alert alert-info">
    @for (int i = 0; i < ViewBag.CANT_PAGINAS; i++)
    {
        @Html.ActionLink(
           (i + 1).ToString(),
           "Index",
           new
                {
                    nro_pag = i,
               nomCli = ViewBag.nomCli
                },
           new { @class = "btn btn-secondary" }
        )
        @Html.Raw("&nbsp;")
    }
